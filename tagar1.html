<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ladang Tagar 1 - Plantation and Agronomy Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .details-content { display: none; }
        .details-content.active { display: block; }
        .dropdown-btn.active { background-color: #4a5568; }
        .policy-item { border-left: 3px solid #6366f1; padding-left: 1rem; margin-top: 0.75rem; }
        .modal { display: none; }
        .modal.active { display: flex; }
        .chart-container { position: relative; height: 300px; width: 100%; margin: auto; }
        .pie-chart-container { position: relative; height: 350px; width: 100%; margin: auto; }
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-md">
        <nav class="container mx-auto px-6 py-4 flex items-center justify-between">
            <div class="text-xl font-bold text-gray-900">
                <a href="index.html" class="flex items-center">
                    Ladang Tagar 1 Report
                </a>
            </div>
            <a href="estates.html" class="text-indigo-600 hover:text-indigo-800 transition duration-300">&larr; Back to Estates List</a>
        </nav>
    </header>

    <!-- Main container for the report -->
    <div class="container mx-auto p-4 md:p-8">
        <div id="selected-estate-container" class="grid grid-cols-1 gap-8">
             <!-- Content will be generated by JavaScript -->
        </div>
    </div>
    
    <!-- Modal for displaying policy details -->
    <div id="policyModal" class="modal fixed inset-0 bg-black bg-opacity-50 z-50 items-center justify-center p-4">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modalTitle" class="text-2xl font-bold">Agricultural Policy Cross-Reference</h3>
                <button onclick="closePolicyModal()" class="text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
            </div>
            <div id="modalContent" class="space-y-4 overflow-y-auto pr-4 flex-grow">
                <!-- Modal content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Main script for application logic -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA STORE ---
            const estateData = {"id":"tagar1","name":"Ladang Tagar 1","reportInfo":"Data based on Agronomy Report 1/2025 (May 2025).","summaryMetrics":{"area":{"title":"Estate Area","lines":["Total: 1,846 ha"]},"yield":{"title":"Yield/Ha (YTD)","value":"4.23 MT","note":"As of April 2025"},"cost":{"title":"FFB Cost/Tonne","value":"N/A","note":"Data not available"},"weeding":{"title":"Weeding Progress","value":"Delayed","note":"As of April 2025"},"manuring":{"title":"Manuring Progress","value":"Behind Schedule","note":"As of April 2025"}},"keyMetrics":[{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-blue-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z' /></svg>","label":"Replanting","value":"Behind Schedule"},{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-green-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z' /></svg>","label":"P&D Status","value":"No serious issues"},{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-yellow-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 10V3L4 14h7v7l9-11h-7z' /></svg>","label":"OER %","value":"N/A"},{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-red-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z' /></svg>","label":"Crop Recovery","value":"Unsatisfactory"},{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-purple-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z' /></svg>","label":"Harvest Interval","value":"15-22 Days"},{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-teal-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17.657 18.343A8 8 0 016.343 7.029m11.314 11.314a8 8 0 01-11.314-11.314m2.121 13.435a2 2 0 01-2.828 0l-2.122-2.121a2 2 0 010-2.828l5.656-5.657a2 2 0 012.829 0l2.121 2.121a2 2 0 010 2.828l-5.657 5.657z' /></svg>","label":"Nutrient Status","value":"'Orange fronds' noted"}],"chartData":{"production":{"labels":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"ffb":[1450,1400,1450,1580,0,0,0,0,0,0,0,0],"rainfall":[356,277,382,619,640,219,132,438,241,321,545,412],"note":"*Production data as of Apr 2025. Rainfall data for 2024."},"ageProfile":{"labels":["0-3 Yrs","4-7 Yrs","8-19 Yrs","20-25 Yrs",">26 Yrs"],"data":[25,36,20,19,0],"title":"Tagar 1 Palm Age Distribution","note":"*Age distribution based on planting year."}},"observations":["<b>Yield Performance:</b> Unsatisfactory yield achievement, with crop loss in old plantings due to delayed pruning and poor roads. (Agronomy Report, Pg. 6, 61)","<b>Manuring & Fertilizer:</b> The 2024 program was fully completed but with delays. The 2025 program is already behind schedule. (Agronomy Report, Pg. 4, 13)","<b>Crop Recovery & Harvesting:</b> Standard of crop recovery remains unsatisfactory, with crop loss in ravines and incomplete loose fruit collection. (Agronomy Report, Pg. 4, 18)","<b>Pruning:</b> Pruning has been delayed in several blocks, particularly in the ravines of P01 and P05, affecting harvesting. (Agronomy Report, Pg. 5, 25)","<b>Weed Control:</b> Weeding is behind schedule, but manageable in mature areas. VOPs and other weeds persist. (Agronomy Report, Pg. 29)","<b>Replanting:</b> The 2024 replanting progress is unsatisfactory and behind schedule. (Agronomy Report, Pg. 9, 54)"],"reports":{"agronomy":{"Introduction":"Agronomy visit conducted on 21st May 2025 to assess conditions and review the 2025 fertilizer programme. (Agronomy Report, Pg. 8)","Blocking System & Palm Census":"The oldest planting (P99) was replanted in 2024. The estate has a high proportion of young mature (36%) and immature (25%) palms. Palm census for P22 has been updated. (Agronomy Report, Pg. 9-12)","Nutrient Inputs & Fertilizer Issues":"The 2024 manuring was fully completed but with significant deviations from the schedule. The 2025 program is also behind schedule. Quality of fertilizer application in P20 needs improvement. (Agronomy Report, Pg. 13-17)","Agronomic Observations (Mature Plantings)":"Crop recovery is unsatisfactory, with crop loss in old plantings (P01, P05) due to under-pruning and poor road conditions. Harvesting intervals are acceptable but crop quality in some areas is poor. Palm appearance is generally acceptable, but 'orange fronds' are noted in P07. Pruning is delayed in several blocks. Weeding has improved, but some soft weeds persist in circles. (Agronomy Report, Pg. 18-37)","Young Mature Plantings":"Field maintenance standards need improvement, with over-pruning and undesirable weeds persisting. Damaged roads need to be addressed. (Agronomy Report, Pg. 38-45)","Immature Planting":"Palms show acceptable growth, but weeding and pruning in PR20 are delayed. Rat baiting is recommended for P20 and P21. (Agronomy Report, Pg. 46-53)","2024 Replanting":"Progress is unsatisfactory and behind schedule for both oil palm and legume cover crop planting. (Agronomy Report, Pg. 54-59)","Yield Performance":"Yield achievement is unsatisfactory. Crop loss in old plantings is a major issue. While yield increased by 5.3% in 2024, it remains below potential. (Agronomy Report, Pg. 60-66)"},"plantation":{"Report Status":"The Plantation Advisory Report for Ladang Tagar 1 is not yet available. Please check back later for updates."}},"policy":"<p>Policy cross-references are not yet available for this estate.</p>"};

            let chartInstances = {};
            const container = document.getElementById('selected-estate-container');

            function renderEstate() {
                container.innerHTML = createEstateHTML(estateData);
                setTimeout(() => {
                    initializeChartsForEstate();
                    populateInternalDropdowns();
                    attachEventListeners();
                }, 0);
            }

            function createEstateHTML(estate) {
                const summaryMetricsHTML = Object.values(estate.summaryMetrics).map(metric => {
                    const colorClass = metric.title.includes('Area') ? 'bg-blue-50 text-blue-800' : 
                                       metric.title.includes('Yield') ? 'bg-green-50 text-green-800' :
                                       metric.title.includes('Cost') ? 'bg-red-50 text-red-800' :
                                       metric.title.includes('Weeding') ? 'bg-yellow-50 text-yellow-800' : 'bg-purple-50 text-purple-800';
                    if (metric.lines) {
                        return `<div class="p-4 rounded-lg ${colorClass}"><h3 class="font-semibold">${metric.title}</h3>${metric.lines.map(line => `<p class="text-sm">${line}</p>`).join('')}</div>`;
                    }
                    return `<div class="p-4 rounded-lg ${colorClass}"><h3 class="font-semibold">${metric.title}</h3><p class="text-2xl font-bold">${metric.value}</p><p class="text-xs text-gray-500 mt-1">${metric.note}</p></div>`;
                }).join('');

                const keyMetricsHTML = estate.keyMetrics.map(metric => `
                    <div class="flex items-center space-x-3 bg-gray-50 p-3 rounded-lg">
                        <div class="bg-gray-100 p-2 rounded-full">${metric.icon}</div>
                        <div><p class="text-sm text-gray-500">${metric.label}</p><p class="font-bold text-lg">${metric.value}</p></div>
                    </div>`).join('');

                const observationsHTML = estate.observations.map(obs => `<li class="ml-4">${obs}</li>`).join('');

                return `
                    <div class="bg-white p-6 rounded-lg shadow-lg animate-fade-in">
                        <h2 class="text-3xl font-bold mb-2 text-gray-900">${estate.name}</h2>
                        <p class="text-sm text-gray-500 mb-6 italic">${estate.reportInfo}</p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-8">${summaryMetricsHTML}</div>
                        <div class="mb-8"><h3 class="text-xl font-semibold mb-4 border-b pb-2">Key Metrics & Agronomic Status</h3><div class="grid grid-cols-2 md:grid-cols-3 gap-4 mt-4">${keyMetricsHTML}</div></div>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                            <div><h3 class="text-xl font-semibold mb-2">Monthly Production vs Rainfall</h3><div class="chart-container"><canvas id="prodChart-${estate.id}"></canvas></div><p class="text-xs text-center text-gray-500 mt-2">${estate.chartData.production.note}</p></div>
                            <div><h3 class="text-xl font-semibold mb-2">Palm Age Profile</h3><div class="pie-chart-container"><canvas id="ageChart-${estate.id}"></canvas></div><p class="text-xs text-center text-gray-500 mt-2">${estate.chartData.ageProfile.note}</p></div>
                        </div>
                        <div class="mb-8"><h3 class="text-xl font-semibold mb-2 border-b pb-2">Key Observations & Issues</h3><ul class="list-disc list-inside space-y-2 text-gray-700 mt-4">${observationsHTML}</ul></div>
                        <div class="mb-8 text-center"><button class="policy-modal-btn bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition shadow-md">View Agricultural Policy Cross-Reference</button></div>
                        <div class="space-y-2">
                            <button data-dropdown-id="${estate.id}-agronomy" class="dropdown-btn w-full text-left bg-gray-800 text-white p-3 rounded-md hover:bg-gray-700 transition">Agronomy Report Details</button>
                            <div id="${estate.id}-agronomy" class="details-content bg-gray-50 p-4 rounded-md border border-gray-200"></div>
                            <button data-dropdown-id="${estate.id}-plantation" class="dropdown-btn w-full text-left bg-gray-800 text-white p-3 rounded-md hover:bg-gray-700 transition">Plantation Advisory Report Details</button>
                            <div id="${estate.id}-plantation" class="details-content bg-gray-50 p-4 rounded-md border border-gray-200"></div>
                        </div>
                    </div>`;
            }

            function initializeChartsForEstate() {
                const prodCanvasId = `prodChart-${estateData.id}`;
                const ageCanvasId = `ageChart-${estateData.id}`;
                if (chartInstances[prodCanvasId]) chartInstances[prodCanvasId].destroy();
                if (chartInstances[ageCanvasId]) chartInstances[ageCanvasId].destroy();

                const prodCtx = document.getElementById(prodCanvasId)?.getContext('2d');
                if(prodCtx) {
                    chartInstances[prodCanvasId] = new Chart(prodCtx, {
                        type: 'bar',
                        data: {
                            labels: estateData.chartData.production.labels,
                            datasets: [
                                { label: 'FFB Production (MT)', data: estateData.chartData.production.ffb, type: 'line', borderColor: '#c026d3', backgroundColor: 'transparent', yAxisID: 'y-ffb', tension: 0.4 },
                                { label: 'Rainfall (mm)', data: estateData.chartData.production.rainfall, backgroundColor: '#3b82f6', yAxisID: 'y-rainfall' }
                            ]
                        },
                        options: { responsive: true, maintainAspectRatio: false, scales: { x: { grid: { display: false } }, 'y-ffb': { type: 'linear', position: 'left', title: { display: true, text: 'FFB Production (MT)' } }, 'y-rainfall': { type: 'linear', position: 'right', title: { display: true, text: 'Rainfall (mm)' }, grid: { drawOnChartArea: false } } } }
                    });
                }

                const ageCtx = document.getElementById(ageCanvasId)?.getContext('2d');
                if(ageCtx) {
                    chartInstances[ageCanvasId] = new Chart(ageCtx, {
                        type: 'pie',
                        data: {
                            labels: estateData.chartData.ageProfile.labels,
                            datasets: [{ data: estateData.chartData.ageProfile.data, backgroundColor: ['#4CAF50', '#2196F3', '#FFC107', '#F44336', '#9C27B0'], hoverOffset: 4 }]
                        },
                        options: { responsive: true, maintainAspectRatio: false, plugins: { title: { display: true, text: estateData.chartData.ageProfile.title, font: { size: 16 } }, legend: { position: 'right' } } }
                    });
                }
            }
            
            function populateInternalDropdowns() {
                const agronomyDiv = document.getElementById(`${estateData.id}-agronomy`);
                const plantationDiv = document.getElementById(`${estateData.id}-plantation`);
                if (agronomyDiv && estateData.reports.agronomy) {
                    agronomyDiv.innerHTML = Object.entries(estateData.reports.agronomy).map(([section, content]) => `<h4 class="font-semibold mt-2 text-gray-800">${section}:</h4><p class="text-sm text-gray-600">${content}</p>`).join('');
                }
                if (plantationDiv && estateData.reports.plantation) {
                    plantationDiv.innerHTML = Object.entries(estateData.reports.plantation).map(([section, content]) => `<h4 class="font-semibold mt-2 text-gray-800">${section}:</h4><p class="text-sm text-gray-600">${content}</p>`).join('');
                }
            }

            function attachEventListeners() {
                container.querySelectorAll('.dropdown-btn').forEach(button => {
                    button.addEventListener('click', (event) => {
                        const id = event.currentTarget.dataset.dropdownId;
                        const content = document.getElementById(id);
                        content.classList.toggle('active');
                        event.currentTarget.classList.toggle('active');
                    });
                });
                container.querySelector('.policy-modal-btn')?.addEventListener('click', openPolicyModal);
            }

            renderEstate();
        });
        
        function openPolicyModal() {
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            const estateData = {"id":"tagar1","name":"Ladang Tagar 1","reportInfo":"Data based on Agronomy Report 1/2025 (May 2025).","summaryMetrics":{"area":{"title":"Estate Area","lines":["Total: 1,846 ha"]},"yield":{"title":"Yield/Ha (YTD)","value":"4.23 MT","note":"As of April 2025"},"cost":{"title":"FFB Cost/Tonne","value":"N/A","note":"Data not available"},"weeding":{"title":"Weeding Progress","value":"Delayed","note":"As of April 2025"},"manuring":{"title":"Manuring Progress","value":"Behind Schedule","note":"As of April 2025"}},"keyMetrics":[{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-blue-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z' /></svg>","label":"Replanting","value":"Behind Schedule"},{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-green-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z' /></svg>","label":"P&D Status","value":"No serious issues"},{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-yellow-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 10V3L4 14h7v7l9-11h-7z' /></svg>","label":"OER %","value":"N/A"},{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-red-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z' /></svg>","label":"Crop Recovery","value":"Unsatisfactory"},{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-purple-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z' /></svg>","label":"Harvest Interval","value":"15-22 Days"},{"icon":"<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-teal-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17.657 18.343A8 8 0 016.343 7.029m11.314 11.314a8 8 0 01-11.314-11.314m2.121 13.435a2 2 0 01-2.828 0l-2.122-2.121a2 2 0 010-2.828l5.656-5.657a2 2 0 012.829 0l2.121 2.121a2 2 0 010 2.828l-5.657 5.657z' /></svg>","label":"Nutrient Status","value":"'Orange fronds' noted"}],"chartData":{"production":{"labels":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"ffb":[1450,1400,1450,1580,0,0,0,0,0,0,0,0],"rainfall":[356,277,382,619,640,219,132,438,241,321,545,412],"note":"*Production data as of Apr 2025. Rainfall data for 2024."},"ageProfile":{"labels":["0-3 Yrs","4-7 Yrs","8-19 Yrs","20-25 Yrs",">26 Yrs"],"data":[25,36,20,19,0],"title":"Tagar 1 Palm Age Distribution","note":"*Age distribution based on planting year."}},"observations":["<b>Yield Performance:</b> Unsatisfactory yield achievement, with crop loss in old plantings due to delayed pruning and poor roads. (Agronomy Report, Pg. 6, 61)","<b>Manuring & Fertilizer:</b> The 2024 program was fully completed but with delays. The 2025 program is already behind schedule. (Agronomy Report, Pg. 4, 13)","<b>Crop Recovery & Harvesting:</b> Standard of crop recovery remains unsatisfactory, with crop loss in ravines and incomplete loose fruit collection. (Agronomy Report, Pg. 4, 18)","<b>Pruning:</b> Pruning has been delayed in several blocks, particularly in the ravines of P01 and P05, affecting harvesting. (Agronomy Report, Pg. 5, 25)","<b>Weed Control:</b> Weeding is behind schedule, but manageable in mature areas. VOPs and other weeds persist. (Agronomy Report, Pg. 29)","<b>Replanting:</b> The 2024 replanting progress is unsatisfactory and behind schedule. (Agronomy Report, Pg. 9, 54)"],"reports":{"agronomy":{"Introduction":"Agronomy visit conducted on 21st May 2025 to assess conditions and review the 2025 fertilizer programme. (Agronomy Report, Pg. 8)","Blocking System & Palm Census":"The oldest planting (P99) was replanted in 2024. The estate has a high proportion of young mature (36%) and immature (25%) palms. Palm census for P22 has been updated. (Agronomy Report, Pg. 9-12)","Nutrient Inputs & Fertilizer Issues":"The 2024 manuring was fully completed but with significant deviations from the schedule. The 2025 program is also behind schedule. Quality of fertilizer application in P20 needs improvement. (Agronomy Report, Pg. 13-17)","Agronomic Observations (Mature Plantings)":"Crop recovery is unsatisfactory, with crop loss in old plantings (P01, P05) due to under-pruning and poor road conditions. Harvesting intervals are acceptable but crop quality in some areas is poor. Palm appearance is generally acceptable, but 'orange fronds' are noted in P07. Pruning is delayed in several blocks. Weeding has improved, but some soft weeds persist in circles. (Agronomy Report, Pg. 18-37)","Young Mature Plantings":"Field maintenance standards need improvement, with over-pruning and undesirable weeds persisting. Damaged roads need to be addressed. (Agronomy Report, Pg. 38-45)","Immature Planting":"Palms show acceptable growth, but weeding and pruning in PR20 are delayed. Rat baiting is recommended for P20 and P21. (Agronomy Report, Pg. 46-53)","2024 Replanting":"Progress is unsatisfactory and behind schedule for both oil palm and legume cover crop planting. (Agronomy Report, Pg. 54-59)","Yield Performance":"Yield achievement is unsatisfactory. Crop loss in old plantings is a major issue. While yield increased by 5.3% in 2024, it remains below potential. (Agronomy Report, Pg. 60-66)"},"plantation":{"Report Status":"The Plantation Advisory Report for Ladang Tagar 1 is not yet available. Please check back later for updates."}},"policy":"<p>Policy cross-references are not yet available for this estate.</p>"};
            modalTitle.innerText = `Agricultural Policy Cross-Reference: ${estateData.name}`;
            modalContent.innerHTML = estateData.policy;
            document.getElementById('policyModal').classList.add('active');
        }

        function closePolicyModal() {
            document.getElementById('policyModal').classList.remove('active');
        }
    </script>
</body>
</html>
