<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ladang Sungai Beranang - Plantation and Agronomy Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .details-content { display: none; }
        .details-content.active { display: block; }
        .dropdown-btn.active { background-color: #14532d; }
        .policy-item { border-left: 3px solid #16a34a; padding-left: 1rem; margin-top: 0.75rem; }
        .modal { display: none; }
        .modal.active { display: flex; }
        .chart-container { position: relative; height: 300px; width: 100%; margin: auto; }
        .pie-chart-container { position: relative; height: 350px; width: 100%; margin: auto; }
        .observation-ref { font-size: 0.75rem; color: #57534e; font-style: italic; }
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-md">
        <nav class="container mx-auto px-6 py-4 flex items-center justify-between">
            <div class="text-xl font-bold text-gray-900">
                <a href="index.html" class="flex items-center">
                    Ladang Sungai Beranang Report
                </a>
            </div>
            <a href="estates.html" class="text-green-800 hover:text-green-900 transition duration-300">&larr; Back to Estates List</a>
        </nav>
    </header>

    <div class="container mx-auto p-4 md:p-8">
        <div id="selected-estate-container" class="grid grid-cols-1 gap-8">
             <!-- Content will be generated by JavaScript -->
        </div>
    </div>
    
    <div id="policyModal" class="modal fixed inset-0 bg-black bg-opacity-50 z-50 items-center justify-center p-4">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modalTitle" class="text-2xl font-bold">Agricultural Policy Cross-Reference</h3>
                <button onclick="closePolicyModal()" class="text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
            </div>
            <div id="modalContent" class="space-y-4 overflow-y-auto pr-4 flex-grow">
                <!-- Policy content populated by JS -->
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA STORE ---
            const estateData = {
                "id": "sungaiberanang",
                "name": "Ladang Sungai Beranang",
                "reportInfo": "Data based on Agronomy Report 2/2025 (Visit: Dec 2025) & Plantation Advisory Report 2/2025 (Visit: Sept 2025).",
                "summaryMetrics": {
                    "area": {
                        "title": "Estate Area",
                        "lines": [
                            "Total Area: 442.72 ha",
                            "Oil Palm (Mature): 270.53 ha",
                            "Oil Palm (Immature): 54.35 ha",
                            "Rubber: 104.15 ha"
                        ]
                    },
                    "yield": {
                        "title": "Yield/Ha (2025 Actual)",
                        "value": "19.44 MT/Ha",
                        "note": "Full Year 2025 (-4.8% vs 2024)"
                    },
                    "cost": {
                        "title": "FFB Cost/Tonne",
                        "value": "N/A",
                        "note": "Data not available in reports"
                    },
                    "weeding": {
                        "title": "Weeding Progress",
                        "value": "Behind Schedule",
                        "note": "Overgrown ravines in P97/P99"
                    },
                    "manuring": {
                        "title": "Manuring Progress (2025)",
                        "value": "100% Completed",
                        "note": "Significant timing deviations noted"
                    }
                },
                "keyMetrics": [
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-red-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z' /></svg>", "label": "Labour Status", "value": "Critical Shortage", "note": "Short 9 Harvesters (53% Strength)" },
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-yellow-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z' /></svg>", "label": "P&D Status", "value": "Ganoderma Detected", "note": "Rats < 5% (Insignificant)" },
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-gray-500' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 10V3L4 14h7v7l9-11h-7z' /></svg>", "label": "OER %", "value": "N/A" , "note": ""},
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-green-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2' /></svg>", "label": "Rubber Yield", "value": "611 Kg/Ha", "note": "-34% Decline vs 2024" },
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-red-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z' /></svg>", "label": "Harvest Interval", "value": "> 20 Days", "note": "In older blocks (P97, P99)" }
                ],
                "chartData": {
                    "production": {
                        "labels": ["P97", "P99", "P01", "P04", "P05", "P13", "P18"],
                        "yield2025": [14.91, 14.61, 23.13, 24.70, 25.49, 11.49, 20.57],
                        "yield2024": [10.61, 10.37, 27.32, 22.77, 21.65, 12.37, 26.14],
                        "note": "*FFB Yield (t/ha) Full Year Comparison 2024 vs 2025. P18 Yield Gained 27%."
                    },
                    "ageProfile": {
                        "labels": ["Immature (0-3)", "Young Mature (4-7)", "Prime (8-19)", "Old (>20)"],
                        "data": [54.35, 72.55, 14.42, 183.56], // Derived from Area Statement: P21+P23(Imm), P18(Young), P13(Prime), P97/99/01/04/05(Old)
                        "title": "Oil Palm Age Profile (Ha)",
                        "note": "*High percentage of old palms (>20 years)."
                    }
                },
                "observations": [
                    "<b>Acute Harvester Shortage:</b> The estate faces a critical shortage of 9 harvesters, operating at only 53% of the required workforce. This has caused harvesting intervals to exceed 20 days in older blocks. <span class='observation-ref'>(Agronomy Report 2/2025, Pg. 19, 53)</span>",
                    "<b>Yield Decline:</b> Overall Oil Palm yield dropped by 4.8% (19.44 MT/Ha) and Rubber yield plummeted by 34.1% (611 Kg/Ha) compared to 2024. <span class='observation-ref'>(Agronomy Report 2/2025, Pg. 51, 54)</span>",
                    "<b>Poor Crop Recovery in Ravines:</b> Direct crop loss persists in P97 and P99 due to steep terrain, under-pruning, and poor road conditions making access difficult. <span class='observation-ref'>(Agronomy Report 2/2025, Pg. 16, 52)</span>",
                    "<b>Manuring Timing Deviations:</b> While 100% of the 2025 fertilizer program was applied, significant delays of over 2 months occurred for several blocks. <span class='observation-ref'>(Agronomy Report 2/2025, Pg. 13)</span>",
                    "<b>Rubber Tapping Issues:</b> Incomplete crop recovery in R14 (areas left untapped) and signs of deep tapping injury in R06 and R07. <span class='observation-ref'>(Agronomy Report 2/2025, Pg. 42-43)</span>",
                    "<b>Low Sprayer Productivity:</b> (From Previous PA) Both circle and selective spraying productivity are low (3.4 ha/md and 3.2 ha/md respectively), leading to delays. <span class='observation-ref'>(PA Report 2/2025, Pg. 14, 17)</span>"
                ],
                "reports": {
                    "agronomy": { 
                        "Executive Summary": "The estate's agronomic condition has deteriorated primarily due to an acute shortage of harvesters (short 9 workers), which has led to harvesting intervals exceeding 25 days in most fields. This has caused significant crop loss, particularly in the steep ravines of P97 and P99 where access is difficult. Overall Oil Palm yield declined by 4.8% (19.44 MT/ha), while Rubber yield dropped drastically by 34.1% due to poor tapper attendance and un-tapped areas. Key field upkeep operations, including pruning and weeding, are behind schedule. Immediate recruitment and rehabilitation of neglected areas are critical. (Agronomy Report 2/2025, Pg. 4-7)",
                        "Nutrient Inputs/Progress of Manuring": "The 2025 manuring program was reported as 100% completed for both Oil Palm (NK Mixture, Mixture B, Kieserite, RP) and Rubber. However, the application timing was suboptimal, with significant deviations of over 2 months recorded for Mixture B in blocks P04, P13, and P18, and Rock Phosphate in P04, P05, and P13. Rubber manuring (R06, R07, R14) also faced similar schedule deviations. Strict adherence to the schedule is required in 2026 to ensure optimum nutrient uptake. (Agronomy Report 2/2025, Pg. 12-14)",
                        "Agronomic Observation": "<b>Harvesting & Recovery:</b> Severe delays (>25 days) and direct crop loss are evident in the ravines of P97 and P99 due to steep terrain, under-pruning, and poor road conditions. P05 shows significant over-ripe bunches and loose fruits on the ground.<br><br><b>Vegetation:</b> Weeding is generally behind schedule. P97 and P99 ravines are overgrown with obstructive weeds. P04 showed incomplete eradication of broadleaf weeds. P13 has sporadic woody growth.<br><br><b>Canopy Management:</b> No pruning was done in P97 and P99. P01 was pruned but has excessive dry hanging fronds. Pruning in P04, P05, and P13 is incomplete.<br><br><b>Pests & Disease:</b> Ganoderma is active in P01 and P05 (de-boling is being carried out). Rat damage is currently insignificant (<5%).<br><br><b>Rubber:</b> Incomplete tapping was observed in R14 (trees left untapped). Signs of deep tapping injury were noted in R06 and R07. Immature R21 trees are undersized with 600 vacant points remaining. (Agronomy Report 2/2025, Pg. 15-49)",
                        "Yield Performance": "Full year 2025 Oil Palm yield was 19.44 MT/ha, a 4.8% decline from 2024. Older blocks P97 and P99 suffered ~29% declines (approx. 14 MT/ha) due to inaccessibility and labor shortages. However, Young Mature block P18 was a highlight, improving by 27% to 20.57 MT/ha. P13 remains the lowest yielder (11.49 MT/ha) due to marginal soil conditions. Rubber yield declined sharply to 611 kg/ha (-34%) driven by low tapper outturn (83.9%) and un-tapped areas. (Agronomy Report 2/2025, Pg. 51-55)",
                        "Fertilizer Recommendation": "The 2026 fertilizer program has been finalized. Blocks P97 and P99 are scheduled for replanting in 2026 (CRF 600g & RP 500g recommended for planting holes). P01 requires NK1 (7.0kg). P04, P05, and P13 require Mixture B, RP, and Kieserite (specifically for P13). A corrective application of Kieserite is specifically recommended for Young Mature P18A in March 2026 to address the low leaf Magnesium levels detected in foliar analysis. (Agronomy Report 2/2025, Pg. 56-59)"
                    },
                    "plantation": { 
                        "Executive Summary": "The estate faces a critical shortage of harvesters and general workers, which has resulted in crop loss and delays in field upkeep. Worker productivity for spraying is low and needs improvement. Key priorities are to expedite worker recruitment, complete the manuring program, and catch up on delayed pruning and road maintenance. (PA Report 2/2025, Pg. 53-54)",
                        "Area Statement": "Total oil palm area stands at 324.88 ha, comprising 270.53 ha mature and 54.35 ha immature. Blocks P97/A and P99/B (78.51 ha) are scheduled for replanting in 2026. (PA Report 2/2025, Pg. 9-10)",
                        "Labour Statement": "The estate is short of 7 harvesters (1:23 ha vs requirement of 1:15 ha). There are also shortages of 2 manurers and 4 sprayers. The high worker turnover is a major concern affecting all field operations. (PA Report 2/2025, Pg. 11)",
                        "Staff Establishment": "The staff complement is adequate, with a new Junior Assistant Manager transferred in April 2025. (PA Report 2/2025, Pg. 13)",
                        "General Charges": "N/A",
                        "Upkeep & Cultivation": "Circle spraying is 69% complete, but productivity is low at 3.4 ha/md. Selective spraying is 74% complete, with low productivity of 3.2 ha/md. Abundant VOPs were noted, and the estate is advised to focus on eradication. (PA Report 2/2025, Pg. 14-17)",
                        "Harvesting and Collection": "The average harvesting interval is 16 days. Productivity is generally acceptable, though earnings in some blocks are below the basic wage. Infield evacuation uses 1 Badang and 1 Mini Dumper. (PA Report 2/2025, Pg. 38)",
                        "Crop Production": "YTD August 2025 yield is 12.09 t/ha, which is 17% below the 14.57 t/ha achieved in the same period of 2024. The shortfall is due to a shortage of harvesters, resulting in 13 harvesting rounds instead of the budgeted 16. (PA Report 2/2025, Pg. 37)",
                        "Production Cost": "N/A",
                        "Vehicles Running Cost": "N/A",
                        "Capital Expenditure": "N/A",
                        "Immature": "R21 (Rubber): Growth is uneven, and supplying of 2,100 points is still pending. PR23 (OP): Field conditions are acceptable; 200 palms still need supplying. PR21/H (OP): Field conditions are satisfactory, but basal pruning is still in progress. (PA Report 2/2025, Pg. 43-51)"
                    },
                    "pinfosys": "Not Available"
                },
                "policy": "<div class='policy-item'><p class='font-semibold'>Manuring Schedule Compliance</p><p class='text-sm text-gray-600'><b>Policy Ref: FERT-APP-05:</b> Fertilizer applications must follow the schedule strictly. Delays >15 days require a mitigation report.</p></div><div class='policy-item'><p class='font-semibold'>Harvesting Intervals</p><p class='text-sm text-gray-600'><b>Policy Ref: HARV-INT-01:</b> Harvesting intervals must not exceed 15 days to prevent loose fruit accumulation and crop loss.</p></div>"
            };

            let chartInstances = {};
            const container = document.getElementById('selected-estate-container');

            function renderEstate() {
                container.innerHTML = createEstateHTML(estateData);
                setTimeout(() => {
                    initializeChartsForEstate();
                    populateInternalDropdowns();
                    attachEventListeners();
                }, 0);
            }

            function createEstateHTML(estate) {
                const summaryMetricsHTML = Object.values(estate.summaryMetrics).map(metric => {
                    const colorClass = metric.title.includes('Area') ? 'bg-blue-50 text-blue-800' : 
                                       metric.title.includes('Yield') ? 'bg-green-50 text-green-800' :
                                       metric.title.includes('Cost') ? 'bg-red-50 text-red-800' :
                                       metric.title.includes('Weeding') ? 'bg-yellow-50 text-yellow-800' : 'bg-purple-50 text-purple-800';
                    let content;
                    if (metric.lines) {
                        content = metric.lines.map(line => `<p class="text-sm">${line}</p>`).join('');
                    } else {
                        content = `<p class="text-2xl font-bold">${metric.value}</p><p class="text-xs text-gray-500 mt-1">${metric.note}</p>`;
                    }
                    return `<div class="p-4 rounded-lg ${colorClass} shadow-sm">
                                <h3 class="font-semibold text-sm mb-1">${metric.title}</h3>
                                ${content}
                            </div>`;
                }).join('');

                const keyMetricsHTML = estate.keyMetrics.map(metric => `
                    <div class="bg-gray-50 p-3 rounded-lg flex items-start space-x-4">
                        <div class="flex-shrink-0 bg-gray-200 p-2 rounded-full mt-1">
                            ${metric.icon}
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">${metric.label}</p>
                            <p class="font-bold text-lg">${metric.value}</p>
                            ${metric.note ? `<p class="text-xs text-gray-500">${metric.note}</p>` : ''}
                        </div>
                    </div>`).join('');

                return `
                    <div class="bg-white p-6 rounded-lg shadow-lg animate-fade-in">
                        <h2 class="text-3xl font-bold mb-2 text-gray-900">${estate.name}</h2>
                        <p class="text-sm text-gray-500 mb-6 italic">${estate.reportInfo}</p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-8">${summaryMetricsHTML}</div>
                        <div class="mb-8">
                            <h3 class="text-xl font-semibold mb-4 border-b pb-2">Key Metrics & Agronomic Status</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4">${keyMetricsHTML}</div>
                        </div>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                            <div><h3 class="text-xl font-semibold mb-2">FFB Yield by Block (2025 vs 2024)</h3><div class="chart-container"><canvas id="prodChart-${estate.id}"></canvas></div><p class="text-xs text-center text-gray-500 mt-2">${estate.chartData.production.note}</p></div>
                            <div><h3 class="text-xl font-semibold mb-2">Palm Age Profile</h3><div class="pie-chart-container"><canvas id="ageChart-${estate.id}"></canvas></div><p class="text-xs text-center text-gray-500 mt-2">${estate.chartData.ageProfile.note}</p></div>
                        </div>
                        <div class="mb-8"><h3 class="text-xl font-semibold mb-2 border-b pb-2">Key Observations & Issues</h3><ul class="list-disc list-inside space-y-2 text-gray-700 mt-4">${estate.observations.map(obs => `<li class="ml-4">${obs}</li>`).join('')}</ul></div>
                        <div class="mb-8 text-center"><button class="policy-modal-btn bg-green-800 text-white px-6 py-3 rounded-lg hover:bg-green-900 transition shadow-md">View Agricultural Policy Cross-Reference</button></div>
                        <div class="space-y-2">
                            <button data-dropdown-id="${estate.id}-agronomy" class="dropdown-btn w-full text-left bg-gray-800 text-white p-3 rounded-md hover:bg-gray-700 transition">Agronomy Report Details</button>
                            <div id="${estate.id}-agronomy" class="details-content bg-gray-50 p-4 rounded-md border border-gray-200"></div>
                            <button data-dropdown-id="${estate.id}-plantation" class="dropdown-btn w-full text-left bg-gray-800 text-white p-3 rounded-md hover:bg-gray-700 transition">Plantation Advisory Report Details</button>
                            <div id="${estate.id}-plantation" class="details-content bg-gray-50 p-4 rounded-md border border-gray-200"></div>
                            <button data-dropdown-id="${estate.id}-pinfosys" class="dropdown-btn w-full text-left bg-gray-800 text-white p-3 rounded-md hover:bg-gray-700 transition">Pinfosys Report Details</button>
                            <div id="${estate.id}-pinfosys" class="details-content bg-gray-50 p-4 rounded-md border border-gray-200"></div>
                        </div>
                    </div>`;
            }

            function initializeChartsForEstate() {
                const prodCanvasId = `prodChart-${estateData.id}`;
                const ageCanvasId = `ageChart-${estateData.id}`;
                if (chartInstances[prodCanvasId]) chartInstances[prodCanvasId].destroy();
                if (chartInstances[ageCanvasId]) chartInstances[ageCanvasId].destroy();

                const prodCtx = document.getElementById(prodCanvasId)?.getContext('2d');
                if(prodCtx) {
                    chartInstances[prodCanvasId] = new Chart(prodCtx, {
                        type: 'bar',
                        data: {
                            labels: estateData.chartData.production.labels,
                            datasets: [
                                { label: '2025 Yield (t/ha)', data: estateData.chartData.production.yield2025, backgroundColor: '#16a34a' },
                                { label: '2024 Yield (t/ha)', data: estateData.chartData.production.yield2024, backgroundColor: '#bbf7d0' }
                            ]
                        },
                        options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, title: { display: true, text: 'Tonnes per Hectare' } } } }
                    });
                }

                const ageCtx = document.getElementById(ageCanvasId)?.getContext('2d');
                if(ageCtx) {
                    chartInstances[ageCanvasId] = new Chart(ageCtx, {
                        type: 'pie',
                        data: {
                            labels: estateData.chartData.ageProfile.labels,
                            datasets: [{ data: estateData.chartData.ageProfile.data, backgroundColor: ['#86efac', '#4ade80', '#22c55e', '#166534'], hoverOffset: 4 }]
                        },
                        options: { responsive: true, maintainAspectRatio: false, plugins: { title: { display: true, text: estateData.chartData.ageProfile.title, font: { size: 16 } }, legend: { position: 'right' } } }
                    });
                }
            }
            
            function populateInternalDropdowns() {
                const agronomyDiv = document.getElementById(`${estateData.id}-agronomy`);
                const plantationDiv = document.getElementById(`${estateData.id}-plantation`);
                const pinfosysDiv = document.getElementById(`${estateData.id}-pinfosys`);

                if (agronomyDiv && estateData.reports.agronomy) {
                    agronomyDiv.innerHTML = Object.entries(estateData.reports.agronomy).map(([section, content]) => `<h4 class="font-semibold mt-2 text-gray-800">${section}:</h4><p class="text-sm text-gray-600">${content}</p>`).join('');
                }
                if (plantationDiv && estateData.reports.plantation) {
                    plantationDiv.innerHTML = Object.entries(estateData.reports.plantation).map(([section, content]) => `<h4 class="font-semibold mt-2 text-gray-800">${section}:</h4><p class="text-sm text-gray-600">${content}</p>`).join('');
                }
                if (pinfosysDiv && estateData.reports.pinfosys === "Not Available") {
                    pinfosysDiv.innerHTML = `<p class="text-sm text-gray-600">Not Available</p>`;
                }
            }

            function attachEventListeners() {
                container.querySelectorAll('.dropdown-btn').forEach(button => {
                    button.addEventListener('click', (event) => {
                        const id = event.currentTarget.dataset.dropdownId;
                        const content = document.getElementById(id);
                        content.classList.toggle('active');
                        event.currentTarget.classList.toggle('active');
                    });
                });
                container.querySelector('.policy-modal-btn')?.addEventListener('click', openPolicyModal);
            }

            renderEstate();
        });
        
        function openPolicyModal() {
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            const policyData = document.querySelector('.policy-item') ? document.body.innerHTML.match(/<div class='policy-item'>.*?<\/div>/g).join('') : "<p>No specific policy cross-references were available in the provided reports.</p>";
            // Re-fetch accurate policy data from the object for display
            // This is a simplified handler; in production, use the estateData.policy
            // For now, let's grab it from the script content indirectly or just use the pre-defined
            modalTitle.innerText = `Agricultural Policy Cross-Reference: Ladang Sungai Beranang`;
            modalContent.innerHTML = "<div class='policy-item'><p class='font-semibold'>Manuring Schedule Compliance</p><p class='text-sm text-gray-600'><b>Policy Ref: FERT-APP-05:</b> Fertilizer applications must follow the schedule strictly. Delays >15 days require a mitigation report.</p></div><div class='policy-item'><p class='font-semibold'>Harvesting Intervals</p><p class='text-sm text-gray-600'><b>Policy Ref: HARV-INT-01:</b> Harvesting intervals must not exceed 15 days to prevent loose fruit accumulation and crop loss.</p></div>";
            document.getElementById('policyModal').classList.add('active');
        }

        function closePolicyModal() {
            document.getElementById('policyModal').classList.remove('active');
        }
    </script>
</body>
</html>
